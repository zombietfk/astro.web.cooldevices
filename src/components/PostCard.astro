---
import { TONE_MAP, type ToneMapKey } from "../utils/toneMap";
import Card from "./Card.astro";

const { title, date, excerpt, href = "#", tone = "cyan" } = Astro.props;

const toneCssVar: string = TONE_MAP[tone as ToneMapKey] ?? "var(--cyan)";
---

<Card>
  <div class="meta" style={`--tone:${toneCssVar}`}>
    <a class="title" href={href}>{title}</a>
    <div class="muted date">
      Posted: {new Date(date).toLocaleDateString()}
    </div>
  </div>
  <p class="excerpt">{excerpt}</p>
</Card>

<style>
  .title {
    display: block;
    color: var(--tone);
    text-decoration: none;
    font-weight: 900;
    font-size: var(--font-size-emphasis);
    letter-spacing: 0.1px;
  }
  .title:hover {
    text-decoration: underline;
    text-decoration-color: color-mix(in srgb, var(--tone) 55%, transparent);
  }
  .date {
    font-size: var(--font-size-muted);
    margin-top: 2px;
  }
  .excerpt {
    margin: 10px 0 0;
    color: rgba(233, 237, 243, 0.85);
  }
</style>
